<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Product Detail Update</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
          crossorigin="anonymous"/>
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/footer.css}">
</head>
<body>
<!-- header start -->
<div class="row" th:replace="~{layout/header :: menu}"></div>
<!-- header end -->
<div class="container text-center">
    <div><h1>Product Detail Update</h1></div>
</div>
<hr/>
<div class="container">
    <a th:href="@{/productDetails/display}" class="btn btn-outline-secondary">DISPLAY</a>
</div>
<hr/>
<div class="container">
    <form th:action="@{/productDetails/update}" method="post" enctype="multipart/form-data" th:object="${proDetail}">
        <!--        <input type="hidden" th:name="method" value="PUT"/>-->
        <input type="hidden" th:field="*{id}"/>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label">CODE:</label>
            <input class="form-control" readonly="readonly" name="code" type="text" th:field="*{code}"/>
            <span th:errors="*{code}" style="color: red"></span>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label">NAME:</label>
            <input class="form-control" name="name" type="text" th:field="*{name}"/>
            <span th:errors="*{name}" style="color: red"></span>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label">CAPACITY:</label>
            <select class="form-control" name="capacity" th:field="*{capacity}">
                <option value="">-- Select Capacity --</option>
                <option th:each="capacity : ${capacities}" th:value="${capacity.id}"
                        th:text="${capacity.name}"></option>
            </select>
            <span th:errors="*{capacity}" style="color: red"></span>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label">COLOR:</label>
            <select class="form-control" name="color" th:field="*{color}">
                <option value="">-- Select Color --</option>
                <option th:each="color : ${color}" th:value="${color.id}" th:text="${color.name}"></option>
            </select>
            <span th:errors="*{color}" style="color: red"></span>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label">MANUFACTURER:</label>
            <select class="form-control" name="manufacturer" th:field="*{manufacture}">
                <option value="">-- Select Manufacturer --</option>
                <option th:each="manufacturer : ${manufacturer}" th:value="${manufacturer.id}"
                        th:text="${manufacturer.name}"></option>
            </select>
            <span th:errors="*{manufacture}" style="color: red"></span>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">CATEGORY:</label>
            <select class="form-control" name="category" th:field="*{category}">
                <option value="">-- Select Category --</option>
                <option th:each="category : ${category}" th:value="${category.id}" th:text="${category.name}"></option>
            </select>

            <span th:errors="*{category}" style="color: red"></span>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">PRODUCT:</label>
            <select class="form-control" name="product" th:field="*{product}">
                <option value="">-- Select product --</option>
                <option th:each="product : ${product}" th:value="${product.id}" th:text="${product.name}"></option>
            </select>

            <span th:errors="*{product}" style="color: red"></span>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">CHIP:</label>
            <select class="form-control" name="chip" th:field="*{chip}">
                <option value="">-- Select Chip --</option>
                <option th:each="chip : ${chip}" th:value="${chip.id}" th:text="${chip.name}"></option>
            </select>

            <span th:errors="*{chip}" style="color: red"></span>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label">SCREEN:</label>
            <select class="form-control" name="screen" th:field="*{screen}">
                <option value="">-- Select Screen --</option>
                <option th:each="screen : ${screen}" th:value="${screen.id}" th:text="${screen.name}"></option>
            </select>

            <span th:errors="*{screen}" style="color: red"></span>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label">RAM:</label>
            <select class="form-control" name="ram" th:field="*{ram}">
                <option value="">-- Select Ram --</option>
                <option th:each="ram : ${ram}" th:value="${ram.id}" th:text="${ram.name}"></option>
            </select>

            <span th:errors="*{ram}" style="color: red"></span>
        </div>

        <div class="form-group row">
            <!--            <label class="col-sm-2 col-form-label">PersonUpdate:</label>-->
            <input class="form-control" type="hidden" th:field="*{personCreate}"/>
            <!--            <span th:errors="*{personUpdate}" style="color: red"></span>-->
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">PersonUpdate:</label>
            <input class="form-control" name="personUpdate" type="text" th:field="*{personUpdate}"/>
            <span th:errors="*{personUpdate}" style="color: red"></span>
        </div>
        <br/>
        <!--        <div class="form-group">-->
        <!--            <label for="imeiFile">File IMEI</label>-->
        <!--            <input type="file" class="form-control-file" id="imeiFile" name="imeiFile" accept=".xlsx, .xls">-->
        <!--        </div>-->
        <!--        <br/>-->
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Price:</label>
            <input class="form-control" name="price" type="text" th:field="*{price}"/>
            <span th:errors="*{price}" style="color: red"></span>
        </div>
        <br/>
        <div class="form-group">
            <label for="imeiFile">File Excel IMEI:</label>
            <input type="file" class="form-control-file" id="imeiFile" name="imeiFile" accept=".xlsx, .xls">
        </div>
        </br>
        <div class="mb-3">
            <label class="form-label">Image Files</label>
            <input type="file" class="form-control" accept="image/*" th:field="*{images}" name="images" multiple
                   required/>
<!--            <div class="carousel-item" th:classappend="${0 != -1} ? active : ''">-->
<!--                <img th:src="@{${proDetailImage}}" class="d-block" style="width: 100px" alt="Không tìm thấy ảnh!"/>-->
<!--            </div>-->
        </div>
        </br>

        <button type="submit" class="btn btn-outline-secondary">UPDATE</button>
    </form>

    <!--    thông báo lỗi khi imei vượt quá 20 ký tụ vaf đã tồn tại trên dòng sản phẩm khác-->
    <section>
        <!--        thông báo lỗi khi imei vượt quá 20 ký tụ-->
        <div th:if="${errorImeiIsGreaterThan20Characters == true}">
            <h3>* Imei vượt quá 20 ký tự:</h3>
            <div th:each="imeiError20, index : ${listErrorImeiIsGreaterThan20Characters}">
                <p>
                    <span th:text="-  ${index.count}"></span>
                    <span>: </span>
                    <span th:text="${imeiError20}"></span>
                </p>
            </div>
        </div>

        <!--     imei   đã tồn tại trên dòng sản phẩm khác-->
        <div th:if="${errorImeiAlreadyExistsElsewhere == true}">
            <h3>* Imei đã tồn tại trên dòng máy khác:</h3>
            <div th:each="imeiErrorExistsElsewhere, index : ${listErrorImeiAlreadyExistsElsewhere}">
                <p>
                    <span th:text="-  ${index.count}"></span>
                    <span>: Mã Imei: </span>
                    <span th:text="${imeiErrorExistsElsewhere.code}"></span>
                    <span> - Mã Sản Phẩm: </span>
                    <span th:text="${imeiErrorExistsElsewhere.productDetail.code}"></span>
                    <span> - Tên Sản Phẩm: </span>
                    <span th:text="${imeiErrorExistsElsewhere.productDetail.name}"></span>
                </p>
            </div>
        </div>
    </section>
</div>
<!--footer start-->
<div class="row" th:replace="~{layout/footer :: footer}"></div>
<!--footer end-->
</body>
</html>
